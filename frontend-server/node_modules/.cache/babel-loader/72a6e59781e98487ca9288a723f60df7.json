{"ast":null,"code":"const MongoClient = require('mongodb').MongoClient;\n\nconst uri = \"mongodb+srv://steven:admin123@cluster0.b3s46.mongodb.net/tradingbot?retryWrites=true&w=majority\";\n\nfunction check(em, pass) {\n  MongoClient.connect(uri, {\n    useNewUrlParser: true,\n    useUnifiedTopology: true\n  }, async (err, client) => {\n    if (err !== null) {\n      console.log(err);\n    } else {\n      const query = {\n        email: em,\n        password: pass\n      };\n      const options = {\n        projections: {\n          'firstName': 1,\n          'lastName': 1\n        }\n      };\n      const collection = client.db(\"tradingbot\").collection(\"users\");\n      const result = collection.findOne(query, options).then(result => {\n        if (result) {\n          console.log(result);\n          return result.firstName.concat(\" \" + result.lastName);\n          console.log(\"sending the stuff\");\n          console.log();\n        } else {\n          if (result === null) {\n            console.log(\"sending null\");\n            return null;\n          }\n        }\n      });\n    }\n  }); //end of MongoClient.connect\n}\n\nexport default check;","map":{"version":3,"sources":["/Users/stevenbarker/AlgorithmicTradingBot/frontend-server/src/components/CheckLogin.js"],"names":["MongoClient","require","uri","check","em","pass","connect","useNewUrlParser","useUnifiedTopology","err","client","console","log","query","email","password","options","projections","collection","db","result","findOne","then","firstName","concat","lastName"],"mappings":"AAAA,MAAMA,WAAW,GAAGC,OAAO,CAAC,SAAD,CAAP,CAAmBD,WAAvC;;AACA,MAAME,GAAG,GAAG,iGAAZ;;AAEA,SAASC,KAAT,CAAeC,EAAf,EAAmBC,IAAnB,EAAwB;AACpBL,EAAAA,WAAW,CAACM,OAAZ,CAAoBJ,GAApB,EAAyB;AAAEK,IAAAA,eAAe,EAAE,IAAnB;AAAyBC,IAAAA,kBAAkB,EAAE;AAA7C,GAAzB,EAA+E,OAAMC,GAAN,EAAWC,MAAX,KAAsB;AACjG,QAAGD,GAAG,KAAK,IAAX,EAAgB;AAChBE,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACC,KAFD,MAEK;AAEL,YAAMI,KAAK,GAAG;AAACC,QAAAA,KAAK,EAAEV,EAAR;AAAYW,QAAAA,QAAQ,EAAEV;AAAtB,OAAd;AACA,YAAMW,OAAO,GAAI;AACbC,QAAAA,WAAW,EAAE;AAAE,uBAAa,CAAf;AAAkB,sBAAY;AAA9B;AADA,OAAjB;AAIA,YAAMC,UAAU,GAAGR,MAAM,CAACS,EAAP,CAAU,YAAV,EAAwBD,UAAxB,CAAmC,OAAnC,CAAnB;AAEA,YAAME,MAAM,GAAGF,UAAU,CAACG,OAAX,CAAmBR,KAAnB,EAA0BG,OAA1B,EACdM,IADc,CACPF,MAAD,IAAW;AACd,YAAGA,MAAH,EAAU;AACVT,UAAAA,OAAO,CAACC,GAAR,CAAYQ,MAAZ;AACA,iBAAOA,MAAM,CAACG,SAAP,CAAiBC,MAAjB,CAAwB,MAAIJ,MAAM,CAACK,QAAnC,CAAP;AACAd,UAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACAD,UAAAA,OAAO,CAACC,GAAR;AACC,SALD,MAKK;AACL,cAAGQ,MAAM,KAAK,IAAd,EAAmB;AACfT,YAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACA,mBAAO,IAAP;AACH;AACA;AACJ,OAbc,CAAf;AAcC;AACJ,GA3BD,EADoB,CA4BjB;AACN;;AAED,eAAeT,KAAf","sourcesContent":["const MongoClient = require('mongodb').MongoClient;\nconst uri = \"mongodb+srv://steven:admin123@cluster0.b3s46.mongodb.net/tradingbot?retryWrites=true&w=majority\";\n\nfunction check(em, pass){\n    MongoClient.connect(uri, { useNewUrlParser: true, useUnifiedTopology: true  }, async(err, client) => {\n        if(err !== null){\n        console.log(err);\n        }else{\n\n        const query = {email: em, password: pass};\n        const options  = {\n            projections: { 'firstName': 1, 'lastName': 1}\n        };\n\n        const collection = client.db(\"tradingbot\").collection(\"users\");\n\n        const result = collection.findOne(query, options)\n        .then( (result) =>{\n            if(result){\n            console.log(result);\n            return(result.firstName.concat(\" \"+result.lastName));\n            console.log(\"sending the stuff\");\n            console.log();\n            }else{\n            if(result === null){\n                console.log(\"sending null\");\n                return(null);\n            }\n            } \n        });\n        }\n    });//end of MongoClient.connect\n}\n\nexport default check;"]},"metadata":{},"sourceType":"module"}